(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{155:function(t,e,s){"use strict";s.r(e);var a={props:["slot-key"],mounted:function(){this.$nextTick(function(){this.$vuepress.$emit("AsyncMarkdownContentMounted",this.slotKey)})}},n=s(1),r=Object(n.a)(a,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.slotKey}},[s("h1",{attrs:{id:"установка-и-администрирование"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#установка-и-администрирование","aria-hidden":"true"}},[t._v("#")]),t._v(" Установка и администрирование")]),t._v(" "),s("h2",{attrs:{id:"системные-требования"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#системные-требования","aria-hidden":"true"}},[t._v("#")]),t._v(" Системные требования")]),t._v(" "),s("h3",{attrs:{id:"требования-к-программному-обеспечению"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#требования-к-программному-обеспечению","aria-hidden":"true"}},[t._v("#")]),t._v(" Требования к программному обеспечению")]),t._v(" "),s("h4",{attrs:{id:"операционная-система"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#операционная-система","aria-hidden":"true"}},[t._v("#")]),t._v(" Операционная система")]),t._v(" "),s("p",[t._v("Дистрибутивы СУБД NitrosBase существуют для следующих операционных систем:")]),t._v(" "),s("ul",[s("li",[t._v("Windows Server 2016 и выше, Windows 10;")]),t._v(" "),s("li",[t._v("Ubuntu 16.0 и выше.")])]),t._v(" "),s("h4",{attrs:{id:"программные-бибnиотеки"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#программные-бибnиотеки","aria-hidden":"true"}},[t._v("#")]),t._v(" Программные библиотеки")]),t._v(" "),s("p",[t._v("Возможны следующие способы подключения к СУБД NitrosBase:")]),t._v(" "),s("ul",[s("li",[t._v("через С API,")]),t._v(" "),s("li",[t._v("через С# API,")]),t._v(" "),s("li",[t._v("через ODBC,")]),t._v(" "),s("li",[t._v("через MS SQL Reporting Services.")])]),t._v(" "),s("p",[t._v("Соответствующие библиотеки и драйвера поставляются в составе дистрибутива. На машине с NitrosBase должна быть развернута среда исполнения, необходимая для функционирования этих библиотек.")]),t._v(" "),s("p",[t._v("В отсутствие возможностей использовать какой-либо из указанных способов подключения для выполнения запросов можно использовать утилиту  testsql, также поставляемую в составе дистрибутива.")]),t._v(" "),s("p",[t._v("Более подробно использование программных библиотек описано в документе «NitrosBase. Способы подключения и API».")]),t._v(" "),s("h3",{attrs:{id:"требования-к-аппаратному-обеспечению"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#требования-к-аппаратному-обеспечению","aria-hidden":"true"}},[t._v("#")]),t._v(" Требования к аппаратному обеспечению")]),t._v(" "),s("p",[t._v("Минимальные требования к аппаратному обеспечению:")]),t._v(" "),s("ul",[s("li",[t._v("Количество ядер процессора — от 4,")]),t._v(" "),s("li",[t._v("Частота процессора — от 2.0 GHz,")]),t._v(" "),s("li",[t._v("Объем оперативной памяти — от 16 GB,")]),t._v(" "),s("li",[t._v("Объем свободного места на жестком диске (предпочтителен SSD) — от 128 GB.")])]),t._v(" "),s("h2",{attrs:{id:"установка"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#установка","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Установка")])]),t._v(" "),s("p",[t._v('{% hint style="success" %}\nДля установки достаточно распаковать архив с дистрибутивом в любой каталог. ПО поставляется как портабельное, функционирование которого не зависит от расположения в структуре каталогов операционной системы.\n{% endhint %}')]),t._v(" "),s("p",[t._v("Дистрибутивы для Windows и Linux почти полностью эквивалентны по структуре и функциональности, за исключением случаев, когда явно оговорено иное.")]),t._v(" "),s("h4",{attrs:{id:"структура-катаnогов"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#структура-катаnогов","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Структура каталогов")])]),t._v(" "),s("p",[t._v("Распакованный дистрибутив содержит следующие каталоги:")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("bin")]),t._v(" — исполняемые файлы сервера и клиента СУБД, часть библиотек;")]),t._v(" "),s("li",[s("strong",[t._v("data")]),t._v(" — данные для импорта в демонстрационную базу данных;")]),t._v(" "),s("li",[s("strong",[t._v("docs")]),t._v(" — документация;")]),t._v(" "),s("li",[s("strong",[t._v("include")]),t._v(" — заголовочные файлы C/C++;")]),t._v(" "),s("li",[s("strong",[t._v("lib")]),t._v(" — клиентские библиотеки, драйвера;")]),t._v(" "),s("li",[s("strong",[t._v("samples.c++")]),t._v(" — примеры.")])]),t._v(" "),s("h4",{attrs:{id:"установка-odbc-драйвера-под-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#установка-odbc-драйвера-под-windows","aria-hidden":"true"}},[t._v("#")]),t._v(" Установка ODBC-драйвера под Windows")]),t._v(" "),s("p",[t._v("Windows-дистрибутив содержит драйвер ODBC, отсутствующий в дистрибутиве для Linux. Для установки драйвера ODBC запустите командную строку (cmd.exe) от имени администратора, перейдите в каталог bin и запустите файл nb_odbc_install.bat.")]),t._v(" "),s("p",[t._v("Для деинсталляции драйвера предназначен скрипт nb_odbc_uninstall.bat (также запускается с правами администратора).")]),t._v(" "),s("h2",{attrs:{id:"подготовка-демонстрационной-бд"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#подготовка-демонстрационной-бд","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Подготовка демонстрационной БД")])]),t._v(" "),s("p",[t._v('{% hint style="success" %}\nЧтобы подготовить демонстрационную БД, нужно запустить два файла сценариев'),s("br"),t._v("\n(в Linux следует запускать файлы с тем же именем и расширением .sh вместо .bat):\n{% endhint %}")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("start runserver.bat\n")])])]),s("p",[t._v("В отдельном окне запустится сервер, который в свою очередь создаст новую базу данных sntest1.")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sntest_prepare.bat\n")])])]),s("p",[t._v("Демонстрационная база будет наполнена данными.")]),t._v(" "),s("p",[t._v('{% hint style="success" %}\nПроверку работоспособности можно выполнить с помощью утилиты testsql\n{% endhint %}')]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("echo select name,lastname,age from person limit 10 | testsql.exe -m speed -t nb -d sntest1 -H 127.0.0.1 -P 3020 -i -v \n")])])]),s("h2",{attrs:{id:"сервер-nitrosbase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#сервер-nitrosbase","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Сервер NitrosBase")])]),t._v(" "),s("p",[t._v("Сервер NitrosBase — процесс, обслуживающий базу данных и обрабатывающий запросы к ней. Один сервер обслуживает одну базу данных. Для обслуживания нескольких баз данных следует запускать несколько экземпляров сервера.")]),t._v(" "),s("h4",{attrs:{id:"синтаксис-запуска"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#синтаксис-запуска","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Синтаксис запуска")])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("server.exe -c create|open|close -d <dbname> [-p <datapath>]\n[-n <cluster_node>] [-m worker|watchdog] [-b] [-P <port>] [-N nodes..]\n[-R <restorepath>]\n\n--help или -h      -- эта справка  \n    \n--command=<action>\n -c <command>  \t  -- команда:\n                     create - создание новой БД и старт сервера для нее\n                     open   - запуск сервера для указанной БД\n                     close  - выключение сервера для указанной БД\n--dbname=<dbname>\n -d <dbname>   \t  -- имя БД, см. также примечания по кластерному режиму\n\n--dbpath=<path>\n -p <path>     \t  -- путь к каталогу, содержащему базы данных\n\n--clusternodes=<nodes>\n -N <nodes>       -- (кластерный режим) общее число узлов в кластере\n\n--node=<cluster_node>\n -n <cluster_node> -- (кластерный режим)\n                      номер узла в кластере (от 0 до cluster_nodes-1);\n                      этот номер узла добавляется в конец названия БД,\n                      указанного в параметре <dbname>;\n                      например, при -n 1 -d dbfoo имя БД будет dbfoo1.\n--mode=<mode>\n -m <mode>     \t  -- режим работы:\n                     supervisor - режим watchdog’a, перезапускающего\n                     сервер при падении (режим выбирается по умолчанию)\n                     worker - одиночный worker, обслуживает одну БД\n--background\n -b            \t  -- запуск процесса в фоновом режиме\n\n--port=<port>\n -P <port>     \t  -- TCP-порт, который слушает сервер\n\n--restorepath=<restorepath>\n -R <restorepath> -- путь к каталогу резервных копий\n")])])]),s("p",[t._v("Таким образом, сервер имеет три команды (create, open, close) и два режима:")]),t._v(" "),s("ul",[s("li",[t._v("режим supervisor — сторожевой процесс перезапускает упавший сервер; рекомендуется использовать в промышленной эксплуатации.")]),t._v(" "),s("li",[t._v("режим worker -- обычный режим обслуживания БД; для тестирования.")])]),t._v(" "),s("h2",{attrs:{id:"кnиент-nitrosbase"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#кnиент-nitrosbase","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Клиент NitrosBase")])]),t._v(" "),s("p",[t._v("В качестве клиента используется testsql (может являться клиентом и других СУБД).")]),t._v(" "),s("h4",{attrs:{id:"синтаксис-запуска-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#синтаксис-запуска-2","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("strong",[t._v("Синтаксис запуска")])]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('testsql -h\n\ntestsql -m compare\n-t dbtype1\n(-c connstr1|-d dbname1 -h host1 -u user1 -p pw1 -P port1)\n-t dbtype2\n(-c connstr2|-d dbname2 -h host2 -u user2 -p pw2 -P port2)\n(-q query|-i) [-v]\n\ntestsql -m speed|shell\n-t dbtype\n(-c connstr|-d dbname -h host -u user -p pw -P port)\n(-q query|-i) [-v]\n\n-h                      -- вывод краткой справки\n\n-m compare|speed|shell  -- режим:\n      compare - сравнение выполнения запросов\n                на различных СУБД\n      speed   - профилировка скорости выполнения запроса\n      shell   - интерактивный режим выполнения запросов\n\n-t odbc|mysql|pgsql|nb  -- тип СУБД, "nb" для NitrosBase\n\n-d dbname               -- имя базы данных\n-H hostname             -- имя узла сервера БД\n-u username             -- имя пользователя сервера БД\n-p password             -- пароль пользователя сервера БД\n-P port                 -- TCP-порт сервера БД\n-c <connstr>            -- строка соединения; вместо набора -H -u -p -P -d\n-q <query>              -- SQL запрос для выполнения\n-n <iterations>         -- выполнение SQL-запроса N раз\n-i                      -- чтение SQL-запроса со стандартного ввода\n-v                      -- вывод результатов запроса; всегда включен\n                           для режимов -m compare и -m shell.\n')])])])])},[],!1,null,null,null);r.options.__file="ustanovka-i-administrirovanie.md";e.default=r.exports}}]);