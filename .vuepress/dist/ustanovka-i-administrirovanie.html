<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Установка и администрирование | NitrosBase</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.154cb869.css" as="style"><link rel="preload" href="/assets/js/app.944765d0.js" as="script"><link rel="preload" href="/assets/js/2.22bcbf9a.js" as="script"><link rel="preload" href="/assets/js/5.841ed733.js" as="script"><link rel="prefetch" href="/assets/js/10.11d5cae0.js"><link rel="prefetch" href="/assets/js/11.526e5d55.js"><link rel="prefetch" href="/assets/js/12.7338784d.js"><link rel="prefetch" href="/assets/js/13.70b7fafd.js"><link rel="prefetch" href="/assets/js/14.00e727b9.js"><link rel="prefetch" href="/assets/js/15.e0d484d8.js"><link rel="prefetch" href="/assets/js/16.aca8fdb7.js"><link rel="prefetch" href="/assets/js/17.98851beb.js"><link rel="prefetch" href="/assets/js/18.6991e38c.js"><link rel="prefetch" href="/assets/js/3.df8f0c78.js"><link rel="prefetch" href="/assets/js/4.364390d5.js"><link rel="prefetch" href="/assets/js/6.c6cac2ca.js"><link rel="prefetch" href="/assets/js/7.a44254ac.js"><link rel="prefetch" href="/assets/js/8.ef35da0e.js"><link rel="prefetch" href="/assets/js/9.6fe1409c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.154cb869.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NitrosBase</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">NitrosBase 2.0</a></li><li><a href="/ustanovka-i-administrirovanie.html" class="active sidebar-link">Установка и администрирование</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#системные-требования" class="sidebar-link">Системные требования</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#требования-к-программному-обеспечению" class="sidebar-link">Требования к программному обеспечению</a></li><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#требования-к-аппаратному-обеспечению" class="sidebar-link">Требования к аппаратному обеспечению</a></li></ul></li><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#установка" class="sidebar-link">Установка</a></li><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#подготовка-демонстрационной-бд" class="sidebar-link">Подготовка демонстрационной БД</a></li><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#сервер-nitrosbase" class="sidebar-link">Сервер NitrosBase</a></li><li class="sidebar-sub-header"><a href="/ustanovka-i-administrirovanie.html#кnиент-nitrosbase" class="sidebar-link">Клиент NitrosBase</a></li></ul></li><li><a href="/demonstracionnaya-baza-dannykh.html" class="sidebar-link">Демонстрационная база данных</a></li><li><a href="/multimodelnost.html" class="sidebar-link">Мультимодельность</a></li><li><a href="/sql.html" class="sidebar-link">SQL</a></li><li><a href="/graph-it.html" class="sidebar-link">Graph-IT</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>API</span> <span class="arrow right"></span></p> <!----></div></li><li><a href="/log.html" class="sidebar-link">Версии</a></li></ul> </div> <div class="page"> <div class="content default"><h1 id="установка-и-администрирование"><a href="#установка-и-администрирование" aria-hidden="true" class="header-anchor">#</a> Установка и администрирование</h1> <h2 id="системные-требования"><a href="#системные-требования" aria-hidden="true" class="header-anchor">#</a> Системные требования</h2> <h3 id="требования-к-программному-обеспечению"><a href="#требования-к-программному-обеспечению" aria-hidden="true" class="header-anchor">#</a> Требования к программному обеспечению</h3> <h4 id="операционная-система"><a href="#операционная-система" aria-hidden="true" class="header-anchor">#</a> Операционная система</h4> <p>Дистрибутивы СУБД NitrosBase существуют для следующих операционных систем:</p> <ul><li>Windows Server 2016 и выше, Windows 10;</li> <li>Ubuntu 16.0 и выше.</li></ul> <h4 id="программные-бибnиотеки"><a href="#программные-бибnиотеки" aria-hidden="true" class="header-anchor">#</a> Программные библиотеки</h4> <p>Возможны следующие способы подключения к СУБД NitrosBase:</p> <ul><li>через С API,</li> <li>через С# API,</li> <li>через ODBC,</li> <li>через MS SQL Reporting Services.</li></ul> <p>Соответствующие библиотеки и драйвера поставляются в составе дистрибутива. На машине с NitrosBase должна быть развернута среда исполнения, необходимая для функционирования этих библиотек.</p> <p>В отсутствие возможностей использовать какой-либо из указанных способов подключения для выполнения запросов можно использовать утилиту  testsql, также поставляемую в составе дистрибутива.</p> <p>Более подробно использование программных библиотек описано в документе «NitrosBase. Способы подключения и API».</p> <h3 id="требования-к-аппаратному-обеспечению"><a href="#требования-к-аппаратному-обеспечению" aria-hidden="true" class="header-anchor">#</a> Требования к аппаратному обеспечению</h3> <p>Минимальные требования к аппаратному обеспечению:</p> <ul><li>Количество ядер процессора — от 4,</li> <li>Частота процессора — от 2.0 GHz,</li> <li>Объем оперативной памяти — от 16 GB,</li> <li>Объем свободного места на жестком диске (предпочтителен SSD) — от 128 GB.</li></ul> <h2 id="установка"><a href="#установка" aria-hidden="true" class="header-anchor">#</a> <strong>Установка</strong></h2> <div class="tip custom-block"><p class="custom-block-title">ПРОСТАЯ УСТАНОВКА</p> <p>Для установки достаточно распаковать архив с дистрибутивом в любой каталог. ПО поставляется как портабельное, функционирование которого не зависит от расположения в структуре каталогов операционной системы.</p></div> <p>Дистрибутивы для Windows и Linux почти полностью эквивалентны по структуре и функциональности, за исключением случаев, когда явно оговорено иное.</p> <h4 id="структура-катаnогов"><a href="#структура-катаnогов" aria-hidden="true" class="header-anchor">#</a> <strong>Структура каталогов</strong></h4> <p>Распакованный дистрибутив содержит следующие каталоги:</p> <ul><li><strong>bin</strong> — исполняемые файлы сервера и клиента СУБД, часть библиотек;</li> <li><strong>data</strong> — данные для импорта в демонстрационную базу данных;</li> <li><strong>docs</strong> — документация;</li> <li><strong>include</strong> — заголовочные файлы C/C++;</li> <li><strong>lib</strong> — клиентские библиотеки, драйвера;</li> <li><strong>samples.c++</strong> — примеры.</li></ul> <h4 id="установка-odbc-драйвера-под-windows"><a href="#установка-odbc-драйвера-под-windows" aria-hidden="true" class="header-anchor">#</a> Установка ODBC-драйвера под Windows</h4> <p>Windows-дистрибутив содержит драйвер ODBC, отсутствующий в дистрибутиве для Linux. Для установки драйвера ODBC запустите командную строку (cmd.exe) от имени администратора, перейдите в каталог bin и запустите файл nb_odbc_install.bat.</p> <p>Для деинсталляции драйвера предназначен скрипт nb_odbc_uninstall.bat (также запускается с правами администратора).</p> <h2 id="подготовка-демонстрационной-бд"><a href="#подготовка-демонстрационной-бд" aria-hidden="true" class="header-anchor">#</a> <strong>Подготовка демонстрационной БД</strong></h2> <p>Чтобы подготовить демонстрационную БД, нужно запустить два файла сценариев<br>
(в Linux следует запускать файлы с тем же именем и расширением .sh вместо .bat):</p> <div class="language-text extra-class"><pre class="language-text"><code>start runserver.bat
</code></pre></div><p>В отдельном окне запустится сервер, который в свою очередь создаст новую базу данных sntest1.</p> <div class="language-text extra-class"><pre class="language-text"><code>sntest_prepare.bat
</code></pre></div><p>Демонстрационная база будет наполнена данными.</p> <p>Проверку работоспособности можно выполнить с помощью утилиты testsql</p> <div class="language-text extra-class"><pre class="language-text"><code>echo select name,lastname,age from person limit 10 | testsql.exe -m speed -t nb -d sntest1 -H 127.0.0.1 -P 3020 -i -v 
</code></pre></div><h2 id="сервер-nitrosbase"><a href="#сервер-nitrosbase" aria-hidden="true" class="header-anchor">#</a> <strong>Сервер NitrosBase</strong></h2> <p>Сервер NitrosBase — процесс, обслуживающий базу данных и обрабатывающий запросы к ней. Один сервер обслуживает одну базу данных. Для обслуживания нескольких баз данных следует запускать несколько экземпляров сервера.</p> <h4 id="синтаксис-запуска"><a href="#синтаксис-запуска" aria-hidden="true" class="header-anchor">#</a> <strong>Синтаксис запуска</strong></h4> <div class="language-text extra-class"><pre class="language-text"><code>server.exe -c create|open|close -d &lt;dbname&gt; [-p &lt;datapath&gt;]
[-n &lt;cluster_node&gt;] [-m worker|watchdog] [-b] [-P &lt;port&gt;] [-N nodes..]
[-R &lt;restorepath&gt;]

--help или -h      -- эта справка  
    
--command=&lt;action&gt;
 -c &lt;command&gt;  	  -- команда:
                     create - создание новой БД и старт сервера для нее
                     open   - запуск сервера для указанной БД
                     close  - выключение сервера для указанной БД
--dbname=&lt;dbname&gt;
 -d &lt;dbname&gt;   	  -- имя БД, см. также примечания по кластерному режиму

--dbpath=&lt;path&gt;
 -p &lt;path&gt;     	  -- путь к каталогу, содержащему базы данных

--clusternodes=&lt;nodes&gt;
 -N &lt;nodes&gt;       -- (кластерный режим) общее число узлов в кластере

--node=&lt;cluster_node&gt;
 -n &lt;cluster_node&gt; -- (кластерный режим)
                      номер узла в кластере (от 0 до cluster_nodes-1);
                      этот номер узла добавляется в конец названия БД,
                      указанного в параметре &lt;dbname&gt;;
                      например, при -n 1 -d dbfoo имя БД будет dbfoo1.
--mode=&lt;mode&gt;
 -m &lt;mode&gt;     	  -- режим работы:
                     supervisor - режим watchdog’a, перезапускающего
                     сервер при падении (режим выбирается по умолчанию)
                     worker - одиночный worker, обслуживает одну БД
--background
 -b            	  -- запуск процесса в фоновом режиме

--port=&lt;port&gt;
 -P &lt;port&gt;     	  -- TCP-порт, который слушает сервер

--restorepath=&lt;restorepath&gt;
 -R &lt;restorepath&gt; -- путь к каталогу резервных копий
</code></pre></div><p>Таким образом, сервер имеет три команды (create, open, close) и два режима:</p> <ul><li>режим supervisor — сторожевой процесс перезапускает упавший сервер; рекомендуется использовать в промышленной эксплуатации.</li> <li>режим worker -- обычный режим обслуживания БД; для тестирования.</li></ul> <h2 id="кnиент-nitrosbase"><a href="#кnиент-nitrosbase" aria-hidden="true" class="header-anchor">#</a> <strong>Клиент NitrosBase</strong></h2> <p>В качестве клиента используется testsql (может являться клиентом и других СУБД).</p> <h4 id="синтаксис-запуска-2"><a href="#синтаксис-запуска-2" aria-hidden="true" class="header-anchor">#</a> <strong>Синтаксис запуска</strong></h4> <div class="language-text extra-class"><pre class="language-text"><code>testsql -h

testsql -m compare
-t dbtype1
(-c connstr1|-d dbname1 -h host1 -u user1 -p pw1 -P port1)
-t dbtype2
(-c connstr2|-d dbname2 -h host2 -u user2 -p pw2 -P port2)
(-q query|-i) [-v]

testsql -m speed|shell
-t dbtype
(-c connstr|-d dbname -h host -u user -p pw -P port)
(-q query|-i) [-v]

-h                      -- вывод краткой справки

-m compare|speed|shell  -- режим:
      compare - сравнение выполнения запросов
                на различных СУБД
      speed   - профилировка скорости выполнения запроса
      shell   - интерактивный режим выполнения запросов

-t odbc|mysql|pgsql|nb  -- тип СУБД, &quot;nb&quot; для NitrosBase

-d dbname               -- имя базы данных
-H hostname             -- имя узла сервера БД
-u username             -- имя пользователя сервера БД
-p password             -- пароль пользователя сервера БД
-P port                 -- TCP-порт сервера БД
-c &lt;connstr&gt;            -- строка соединения; вместо набора -H -u -p -P -d
-q &lt;query&gt;              -- SQL запрос для выполнения
-n &lt;iterations&gt;         -- выполнение SQL-запроса N раз
-i                      -- чтение SQL-запроса со стандартного ввода
-v                      -- вывод результатов запроса; всегда включен
                           для режимов -m compare и -m shell.
</code></pre></div></div> <!----> <!----> </div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.944765d0.js" defer></script><script src="/assets/js/2.22bcbf9a.js" defer></script><script src="/assets/js/5.841ed733.js" defer></script>
  </body>
</html>
